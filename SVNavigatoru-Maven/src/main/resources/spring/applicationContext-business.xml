<?xml version="1.0" encoding="UTF-8"?>

<beans xmlns="http://www.springframework.org/schema/beans" xmlns:context="http://www.springframework.org/schema/context"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:p="http://www.springframework.org/schema/p"
    xmlns:mvc="http://www.springframework.org/schema/mvc"
    xsi:schemaLocation="http://www.springframework.org/schema/beans
						http://www.springframework.org/schema/beans/spring-beans.xsd
						http://www.springframework.org/schema/context
						http://www.springframework.org/schema/context/spring-context.xsd
						http://www.springframework.org/schema/mvc
        				http://www.springframework.org/schema/mvc/spring-mvc.xsd">

    <!-- Database Configuration -->
    <import resource="dataSource.xml" />



    <!-- Loads everything except @Controllers. They are loaded in the dispatcher-servlet.xml file. -->
    <context:component-scan base-package="com.svnavigatoru600" annotation-config="true">
        <context:exclude-filter expression="org.springframework.stereotype.Controller"
            type="annotation" />
        <!-- Persistence is provided by DAOs without Hibernate. -->
        <context:exclude-filter type="regex" expression=".*\.hibernate\..*"/>
    </context:component-scan>

    <!-- Registers the default AutowiredAnnotationBeanPostProcessor which handles @Autowired and other annotations. -->
    <!-- http://www.infoq.com/articles/spring-2.5-part-1 -->
    <context:annotation-config />

    <!-- JSR-303 support will be detected on classpath and enabled automatically -->
    <mvc:annotation-driven />



    <!-- Document Upload -->
    <!-- maxUploadSize - The maximal size of a file which can be uploaded [in bytes]. This property is just a safety 
        break since the current size is checked in validators (see com.svnavigatoru600.service.Configuration). -->
    <bean id="multipartResolver" class="org.springframework.web.multipart.commons.CommonsMultipartResolver"
        p:maxUploadSize="100000000" />
    <!-- /Document Upload -->


    <import resource="ehcache-context.xml" />

</beans>
